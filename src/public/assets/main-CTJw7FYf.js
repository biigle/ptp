import{resolveComponent as b,createElementBlock as u,openBlock as d,createElementVNode as n,createTextVNode as o,createCommentVNode as g,createVNode as v}from"vue";let f=biigle.$require("handleErrorResponse"),h=biigle.$require("resource"),a=biigle.$require("volumes.show.plugins"),P=biigle.$require("core.mixins.loader");const q=h("api/v1/send-ptp-job{/id}"),R=(e,t)=>{const i=e.__vccOpts||e;for(const[r,l]of t)i[r]=l;return i},k={mixins:[P],data(){return{volumeId:biigle.$require("volumes.volumeId"),manualUrl:biigle.$require("volumes.ptpManualUrl")}},computed:{ptpButtonTitle(){return this.loading?"Another Point to Polygon conversion Job is already running on this volume!":"Run Point to Polygon conversion on this volume"}},methods:{sendPtpRequest(){q.save({id:this.volumeId},{}).then(this.startLoading,e=>{this.finishLoading(),f(e)})}},created(){biigle.$require("volumes.ptpIsRunning")===!0&&this.startLoading()}},y={class:"ptp-container"},$=["href"],w=["title","disabled"],M={key:0,class:"text-info"};function T(e,t,i,r,l,s){const p=b("loader");return d(),u("div",y,[n("h4",null,[n("a",{href:l.manualUrl,target:"_blank",class:"btn btn-default btn-xs pull-right",title:"What is this?"},[...t[1]||(t[1]=[n("span",{class:"fa fa-info-circle","aria-hidden":"true"},null,-1)])],8,$),t[2]||(t[2]=o(`
            Magic SAM`,-1)),t[3]||(t[3]=n("br",null,null,-1)),t[4]||(t[4]=o("Point Conversion",-1)),t[5]||(t[5]=n("sup",null,"beta",-1))]),t[7]||(t[7]=o()),t[8]||(t[8]=n("p",null,`
            This tool converts all point annotations in this volume to polygon annotations using Magic SAM. The original point annotations will not be deleted.
        `,-1)),t[9]||(t[9]=o()),n("p",null,[n("button",{class:"btn btn-success btn-block",type:"button",title:s.ptpButtonTitle,disabled:e.loading||null,onClick:t[0]||(t[0]=(...m)=>s.sendPtpRequest&&s.sendPtpRequest(...m))},[v(p,{active:e.loading},null,8,["active"]),t[6]||(t[6]=o(` Submit
            `,-1))],8,w)]),t[10]||(t[10]=o()),e.loading?(d(),u("p",M,`
            The job was submitted. You will be notified when it is finished.
        `)):g("",!0)])}const x=R(k,[["render",T]]);a&&(a.ptpForm=x);
